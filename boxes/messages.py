from typing import Optional

from settings import MASTER_USERNAME


def box_info_text(price: int) -> str:
    if price == 1990:
        size = "–º–∞–ª–µ–Ω—å–∫–∏–π"
    elif price == 2990:
        size = "—Å—Ä–µ–¥–Ω–∏–π"
    else:
        size = "–±–æ–ª—å—à–æ–π"

    return f"–ù–∞ —Ñ–æ—Ç–æ –ø–æ–∫–∞–∑–∞–Ω–æ —Ç–æ —á—Ç–æ –∏–¥–µ—Ç –≤ –∫–∞–∂–¥—ã–π <i>{size}</i> –±–æ–∫—Å, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–π –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚ùÑÔ∏è"


def user_info_text() -> str:
    return (
        "–û—Ç–ª–∏—á–Ω–æ! –¢–≤–æ–π –±–æ–∫—Å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω ‚≠êÔ∏è\n\n"
        "<b>–¢–µ–ø–µ—Ä—å —É–∫–∞–∂–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏:</b>\n"
        "1. –§–ò–û\n"
        "2. –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞\n"
        "3. –ê–¥—Ä–µ—Å –ø—É–Ω–∫—Ç–∞ –°–î–≠–ö\n"
        "4. –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ (—Ç—É–¥–∞ –ø—Ä–∏–¥–µ—Ç —Ç—Ä–µ–∫-–Ω–æ–º–µ—Ä –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è)\n\n"
        "<i>*–µ—Å–ª–∏ –≤ —Ç–≤–æ–µ–º –≥–æ—Ä–æ–¥–µ –Ω–µ—Ç –°–î–≠–ö–∞, –Ω–∞–ø–∏—à–∏ –∞–¥—Ä–µ—Å –∏ –∏–Ω–¥–µ–∫—Å –ø–æ—á—Ç—ã</i>"
    )


def final_text(username: Optional[str] = None) -> str:
    return (
        "–ì–æ—Ç–æ–≤–æ! –°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑, —Å–∫–æ—Ä–æ —è —Å–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –¥–ª—è –æ–ø–ª–∞—Ç—ã –∏ —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π üß∏‚ù§Ô∏è"
        if username
        else "–ì–æ—Ç–æ–≤–æ! –°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑, –Ω–æ, –∫–∞–∂–µ—Ç—Å—è, —É –≤–∞—Å –Ω–µ —É–∫–∞–∑–∞–Ω —é–∑–µ—Ä–Ω—ç–π–º –∏ —è –Ω–µ —Å–º–æ–≥—É —Å –≤–∞–º–∏ —Å–≤—è–∑–∞—Ç—å—Å—è :(\n"
        f"–ù–∞–ø–∏—à–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –º–Ω–µ –≤ –ª—Å –¥–ª—è –æ–ø–ª–∞—Ç—ã –∏ —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π üß∏‚ù§Ô∏è\n\n –°—Å—ã–ª–∫–∞: https://t.me/{MASTER_USERNAME}"
    )


def order_text(
    box_price: int,
    card: str,
    stickers_color: str,
    pin: str,
    user_info: str,
    magnet: Optional[str] = None,
    shopper: Optional[str] = None,
    username: Optional[str] = None,
) -> str:
    text = (
        "<u><b>–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê</b></u>\n\n"
        f"–¶–µ–Ω–∞ –±–æ–∫—Å–∞: {box_price}\n\n"
        "<b>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:</b>\n"
        f"1. –û—Ç–∫—Ä—ã—Ç–∫–∞ {card}\n"
        f"2. –°—Ç–∏–∫–µ—Ä—ã - {stickers_color}\n"
        f"3. –ó–Ω–∞—á–æ–∫ - {pin}\n"
    )

    if box_price > 1990:
        text = text + f"4. –ú–∞–≥–Ω–∏—Ç {magnet}\n"

    if box_price > 2990:
        text = text + f"5. –®–æ–ø–ø–µ—Ä {shopper}\n"

    text = text + "\n" + f"<b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ:</b>\n{user_info}\n\n"

    text = (
        text + f"–°—Å—ã–ª–∫–∞: https://t.me/{username}"
        if username
        else text + "–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç —é–∑–µ—Ä–Ω–µ–π–º–∞, –ú–î–ê –£–ñ 21 –≤–µ–∫ –Ω–∞ –¥–≤–æ—Ä–µ"
    )

    return text
